
{% extends "base.html" %}
<fieldset id="{{ form.instance|verbose_name|slugify }}fieldset">
    {% csrf_token %}
    {% for field in form.visible_fields %}
        <div class="row">
            <div class="span3"><label for="{{ field.auto_id }}">{{ field.label }}:{% if field.field.required %}
                <span class="req">*</span>{% endif %}</label>
                {% if field.help_text %}
                    <br/>
                    <div class="note">{{ field.help_text }}</div>{% endif %}
            </div>
            <div class="span7">{{ field }}
                {% for err in field.errors %}
                    <span class="note" style="color: red; font-weight: bold;">{{ err }}</span>
                {% endfor %}
            </div>
            <div class="span2">
                {% for name, meta in form.related_field_names.items %}
                    {% if field.name == name %}
                        <a class="tablectrl_small bGreen tipS" href="javascript:void(0)" original-title="Add"
                           style="color: #fff;" id="add{{ meta.verbose_name|slugify }}">
                            <span data-icon="&#57497;" class="iconb"></span></a>
                        <a class="tablectrl_small bBlue tipS" href="javascript:void(0)" original-title="Edit"
                           style="color: #fff;" id="edit{{ meta.verbose_name|slugify }}">
                            <span data-icon="&#57419;" class="iconb"></span></a>
                        <a class="tablectrl_small bRed tipS" href="javascript:void(0)" original-title="Remove"
                           style="color: #fff;" id="remove{{ meta.verbose_name|slugify }}">
                            <span data-icon="&#57436;" class="iconb"></span></a>
                    {% endif %}
                {% endfor %}
                {% for name, meta in form.many_to_many_field_names.items %}
                    {% if field.name == name %}
                        <a class="tablectrl_small bGreen tipS" href="javascript:void(0)" original-title="Add"
                           style="color: #fff;" id="add{{ meta.verbose_name|slugify }}">
                            <span data-icon="&#57497;" class="iconb"></span></a>
                        <a class="tablectrl_small bBlue tipS" href="javascript:void(0)" original-title="Edit"
                           style="color: #fff;" id="edit{{ meta.verbose_name|slugify }}">
                            <span data-icon="&#57419;" class="iconb"></span></a>
                        <a class="tablectrl_small bRed tipS" href="javascript:void(0)" original-title="Remove"
                           style="color: #fff;" id="remove{{ meta.verbose_name|slugify }}">
                            <span data-icon="&#57436;" class="iconb"></span></a>
                    {% endif %}
                {% endfor %}
            </div>
            <div class="clear"></div>
        </div>
    {% empty %}
    {% endfor %}
    {% for hidden in form.hidden_fields %}
        {{ hidden }}
    {% empty %}
    {% endfor %}
    {% if form.instance.id %}
        <input type="hidden" value="{{ form.instance.id }}"/>
    {% endif %}
    <div class="formRow">
        <span class="buttonM bGreen" id="submit{{ form.instance|verbose_name|slugify }}">
            Save {{ form.instance|verbose_name }}</span>
    </div>
</fieldset>
